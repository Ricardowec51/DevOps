# Proxmox VM Creator - Configuración Principal
# Copia este archivo a 'config.yaml' y ajusta los valores
#
# IMPORTANTE: Las credenciales sensibles se leen desde .env
# Este archivo solo necesita valores NO sensibles o específicos por proyecto

proxmox:
  # Las credenciales se leen desde .env (ver .env.example)
  # También puedes especificarlas aquí si lo prefieres (NO recomendado)
  # host: "192.168.1.143"
  # user: "root@pam"
  # password: "tu_password_aqui"
  # verify_ssl: false

# Configuración de red
network:
  bridge: "vmbr0"                 # Bridge de red por defecto
  model: "virtio"                 # Modelo de NIC
  gateway: "192.168.1.1"          # Gateway por defecto
  netmask: "24"                   # Máscara de red
  nameserver: "8.8.8.8"           # Servidor DNS

# Credenciales por defecto para cloud-init
# RECOMENDADO: Configurar en .env en lugar de aquí
credentials:
  # user: "ubuntu"                # Se lee desde VM_DEFAULT_USER en .env
  # password: "ubuntu"            # Se lee desde VM_DEFAULT_PASSWORD en .env
  ssh_keys:                       # O configura VM_SSH_KEYS en .env
    # - "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQ..."

# Configuración por defecto para todas las VMs
# Los valores se pueden sobrescribir con variables de entorno (ver .env)
defaults:
  # storage: "NFS_SERVER"         # O usa DEFAULT_STORAGE en .env
  # memory: 2048                  # O usa DEFAULT_MEMORY en .env
  # cores: 2                      # O usa DEFAULT_CORES en .env
  sockets: 1                      # Número de sockets
  ostype: "l26"                   # Tipo de OS (l26 = Linux 2.6+)
  network_type: "dhcp"            # dhcp o static

  # Imágenes cloud disponibles
  # Estas rutas deben existir en tu servidor Proxmox
  # También puedes configurarlas en .env con IMAGE_UBUNTU22, IMAGE_UBUNTU24, etc.
  images:
    ubuntu22: "/var/lib/vz/template/iso/jammy-server-cloudimg-amd64.img"
    ubuntu24: "/var/lib/vz/template/iso/noble-server-cloudimg-amd64.img"
    debian12: "/var/lib/vz/template/iso/debian-12-generic-amd64.qcow2"
    rocky9: "/var/lib/vz/template/iso/Rocky-9-GenericCloud.latest.x86_64.qcow2"

  # Snippet de vendor cloud-init (opcional)
  # Este snippet se ejecuta en todas las VMs
  # snippet: "local:snippets/vendor.yaml"

# Nodos Proxmox disponibles
nodes:
  - "BOSC"
  - "DELL"
  - "Nuc13"
  - "msa"
  - "msa2"

# Configuración de logging
logging:
  level: "INFO"
  file: "vm_creation.log"
